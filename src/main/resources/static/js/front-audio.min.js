(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["front-audio"],{"0c54":function(e,t,r){},7901:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("aplayer",{directives:[{name:"show",rawName:"v-show",value:e.fileList.length>0&&-1!==e.audioIndex,expression:"fileList.length > 0 && audioIndex !== -1"}],ref:"aplayer",attrs:{id:"aplyer",fixed:"",audio:e.fileList,loop:"none"},on:{listSwitch:e.updateCover}})},n=[];r("1bc7"),r("9f60"),r("94f0"),r("0c84"),r("2843"),r("4057"),r("a450"),r("e680");function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var l={name:"AudioPlayer",data:function(){return{audioInfo:{}}},props:{fileList:Array,audioIndex:Number},methods:{updateCover:function(){var e=this,t=this.$refs.aplayer.currentMusic,r=t.path+t.name;if(document.title=t.name,this.fileList.length>0&&-1!==this.audioIndex&&this.common.saveRecord(t.path,t.name),!t.updateSrc){var a=this.common.getDriveId();this.$http.get("common/audio-info",{params:{url:t.url,filePath:r,driveId:a}}).then((function(t){var r=t.data.data,a=e.$refs.aplayer.$el;null!=r.src&&""!=r.src&&(e.$refs.aplayer.currentMusic.url=r.src,e.$refs.aplayer.currentMusic.updateSrc=!0,console.log("更改src")),a.getElementsByClassName("aplayer-pic")[0].style.backgroundImage="url("+r.cover+")",a.getElementsByClassName("aplayer-list-light")[0].getElementsByClassName("aplayer-list-author")[0].innerHTML=r.artist}))}}},watch:{audioIndex:function(){this.fileList.length>0&&-1!==this.audioIndex?(this.$refs.aplayer.play(),this.$refs.aplayer.switch(this.audioIndex)):this.$refs.aplayer.pause()},fileList:function(e){if(0===e.length)this.$refs.aplayer.pause();else{var t,r=i(this.fileList);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.artist="",a.cover=""}}catch(n){r.e(n)}finally{r.f()}}}},mounted:function(){var e=this.$refs.aplayer.$el;e.getElementsByClassName("aplayer-miniswitcher")[0].click(),e.getElementsByClassName("aplayer-icon-order")[0].setAttribute("title","播放顺序"),e.getElementsByClassName("aplayer-icon-loop")[0].setAttribute("title","循环模式"),e.getElementsByClassName("aplayer-icon-menu")[0].setAttribute("title","播放列表")}},u=l,c=(r("9d00"),r("5d22")),f=Object(c["a"])(u,a,n,!1,null,"2d3c4063",null);t["default"]=f.exports},"9d00":function(e,t,r){"use strict";r("0c54")}}]);